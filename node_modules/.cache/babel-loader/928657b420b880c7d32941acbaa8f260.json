{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jewel\\\\Desktop\\\\Project\\\\React\\\\todo_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport React, { forwardRef, useState, useEffect, useMemo } from 'react';\nimport { usePrevious } from '@mantine/hooks';\nimport useStyles from './MachineNumber.styles.js';\nvar MachineNumber = forwardRef(function (props, ref) {\n  var _useState = useState(props.value),\n    _useState2 = _slicedToArray(_useState, 2),\n    oldNumber = _useState2[0],\n    setOldNumber = _useState2[1];\n  var _useState3 = useState(props.value),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newNumber = _useState4[0],\n    setNewNumber = _useState4[1];\n  var _useState5 = useState(\"up\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    scrollAnimationDirection = _useState6[0],\n    setScrollAnimationDirection = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isActive = _useState8[0],\n    setIsActive = _useState8[1];\n  var prevValueRef = usePrevious(props.value);\n  var scrollByDir = function scrollByDir(dir) {\n    setIsActive(true);\n    setScrollAnimationDirection(dir);\n    setTimeout(function () {\n      setIsActive(false);\n    }, 180);\n  };\n  var scroll = function scroll() {\n    var newOriginalNumber = props.newOriginalNumber,\n      oldOriginalNumber = props.oldOriginalNumber;\n    if (newOriginalNumber == null || oldOriginalNumber == null) {\n      return;\n    }\n    if (newOriginalNumber > oldOriginalNumber) {\n      scrollByDir(\"up\");\n    } else if (newOriginalNumber < oldOriginalNumber) {\n      scrollByDir(\"down\");\n    }\n  };\n  useEffect(function () {\n    setOldNumber(prevValueRef);\n    setNewNumber(props.value);\n    scroll();\n  }, [props.value, prevValueRef]);\n  var _useStyles = useStyles(null, {\n      name: \"MachineNumber\"\n    }),\n    classes = _useStyles.classes,\n    cx = _useStyles.cx;\n  var newNumberScrollAnimationClass = useMemo(function () {\n    return isActive ? scrollAnimationDirection === \"up\" ? classes.currentNumberScrollUp : classes.currentNumberScrollDown : null;\n  }, [isActive, scrollAnimationDirection]);\n  var oldNumberScrollAnimationClass = useMemo(function () {\n    return isActive ? scrollAnimationDirection === \"up\" ? classes.oldNumberScrollUp : classes.oldNumberScrollDown : null;\n  }, [isActive, scrollAnimationDirection]);\n  return /* @__PURE__ */React.createElement(\"span\", {\n    ref: ref,\n    className: classes.baseNumber\n  }, oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.currentNumberTop, oldNumberScrollAnimationClass)\n  }, oldNumber) || null, /* @__PURE__ */React.createElement(\"span\", null, /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.currentNumber, newNumberScrollAnimationClass)\n  }, newNumber)), oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.oldNumberBottom, oldNumberScrollAnimationClass)\n  }, oldNumber) || null);\n});\nexport { MachineNumber };","map":null,"metadata":{},"sourceType":"module"}